

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>4.2. Verification of the Turbulence Inflow &mdash; Wind Engineering with Uncertainty Quantification  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="5. Coding Style" href="../../../coding_style/desktop/coding_style.html" />
    <link rel="prev" title="4.1. Stochastically Generated Wind Loading" href="PowerSpectralDensity.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../../index.html">



  
  <img src="../../../../../_static/WE-UQ-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manual/about/WEUQ/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/ack.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/glossary.html">4. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/abbreviations.html">5. Abbreviations</a></li>
</ul>
<p class="caption"><span class="caption-text">User Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manual/installation/desktop/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manual/usage/desktop/usage.html">2. User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manual/troubleshooting/desktop/troubleshooting.html">3. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manual/examples/desktop/examples.html">4. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../user_manual/bugs.html">5. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/technical_manual.html">1. Technical Manual</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/desktop/architecture.html">2. Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../how_to_extend/desktop/how_to_extend.html">3. How to Extend</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../verification.html">4. Verification</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="PowerSpectralDensity.html">4.1. Stochastically Generated Wind Loading</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.2. Verification of the Turbulence Inflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../coding_style/desktop/coding_style.html">5. Coding Style</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Wind Engineering with Uncertainty Quantification</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../verification.html"><span class="section-number">4. </span>Verification</a> &raquo;</li>
        
      <li><span class="section-number">4.2. </span>Verification of the Turbulence Inflow</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/common/developer_manual/verification/desktop/WEUQ/TinFverification.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="verification-of-the-turbulence-inflow">
<span id="lblverificationturbulenceinflow"></span><h1><span class="section-number">4.2. </span>Verification of the Turbulence Inflow<a class="headerlink" href="#verification-of-the-turbulence-inflow" title="Permalink to this headline">¶</a></h1>
<p>The performance of the turbulent inflow in reproducing the statistical properties of the targeted turbulence can be verified by examining the synthetic velocity fluctuations generated at the inflow patch. To carry out such a verification, the first step is to record those velocity fluctuations during the simulations which can be achieved by adding the following lines in the “inflowProperties” file.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>nOutputFace 6;
outputFaceIndices (0 1 2 3 4 5);
</pre></div>
</div>
<p>The two entries to be specified, i.e., ”nOutputFace” and ”outputFaceIndices”, denote the total number and the indices of the face elements (on the inflow patch) at which the time-histories of the velocities are to be recorded.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Tthe components of ”outputFaceIndices” should be integers lying between zero and the total number of the</p>
</div>
<p>face elements on the inflow patch. Meanwhile, the number of the components of ”outputFaceIndices” should equal to the value of ”nOutputFace” which is an no larger than the total number of the face elements on the inflow patch. Once, the command lines shown above are added to the “inflowProperties” file, separate file named by the indices of the output face elements will be generated inside the ”postProcessing” folder (created if not exists) at the root directory of the case project during the simulations. Those files (see below) contain not only the time-histories of the velocities but also the parameters defining the statistical properties of the targeted turbulence.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># face index : 400
# face centroid: (0.000000e+00 1.050000e+01 5.000000e-01)
# mean velocity magnitude: 1.000000e+01
# turbulent intensity tensor: (1.000000e-01 0.000000e+00 0.000000e+00 1.000000e-01 0.000000e+00 1.000000e-01)
# integral length scale for the x-component velocity: 1.500000e+00
# integral length scale for the y-component velocity: 1.000000e+00
# integral length scale for the z-component velocity: 5.000000e-01
# synthetic method: digital filtering
# filter function: gaussian
# time length : 1.000000e+03
# time step size: 1.000000e-02
# Time ux uy uz
0.01 1.134177e+01 9.334704e-01 4.628306e-02
0.02 1.082484e+01 3.726139e-01 1.433661e-01
0.03 1.114386e+01 9.974869e-02 3.533047e-04
0.04 1.148161e+01 -3.989044e-01 6.526394e-01
0.05 1.134108e+01 2.558397e-01 -4.537671e-01
0.06 1.100006e+01 4.039564e-01 -1.318910e+00
0.07 1.140864e+01 4.799761e-01 -8.001173e-01
0.08 1.143868e+01 7.390340e-02 -1.079113e+00
0.09 1.098772e+01 4.546511e-01 -1.137630e+00
0.1 1.143417e+01 2.590234e-01 -1.843147e+00
...
</pre></div>
</div>
<p>When the simulations are finished, one can easily verify if the synthetic turbulence meet the initial requirements by conducting a statistical analysis of the velocity fluctuations contained in the files. For simplicity, we have provided a Matlab R code for the statistical analysis of the velocity fluctuations which are capable of computing the correlation coefficients and the velocity spectral functions of the synthetic turbulence at some specific face elements on the inflow patch. The code should be placed in the root dictionary of the case project before running. While running, the code will automatically search for the data files existing in the ”postProcessing” folder, create and write figures demonstrating the comparison of the synthetic results with the targeted values for each face element. A number of examples are given below for demonstration.</p>
<div class="align-center figure" id="id1">
<span id="figtinf1v"></span><img alt="../../../../../_images/vTinF1.png" src="../../../../../_images/vTinF1.png" />
<p class="caption"><span class="caption-number">Fig. 4.2.2 </span><span class="caption-text">Synthetic turbulence using the digital filtering method with <span class="math notranslate nohighlight">\(U = 10m/s\)</span>, <span class="math notranslate nohighlight">\(L_{ux} = 1m\)</span>, <span class="math notranslate nohighlight">\(L_{vx} = 0.75m\)</span>, and <span class="math notranslate nohighlight">\(L_{wx} = 0.5m\)</span></span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="align-center figure" id="id2">
<span id="figtinf2v"></span><img alt="../../../../../_images/vTinF2.png" src="../../../../../_images/vTinF2.png" />
<p class="caption"><span class="caption-number">Fig. 4.2.3 </span><span class="caption-text">Synthetic turbulence using the synthetic eddy method with <span class="math notranslate nohighlight">\(U = 10m/s\)</span>, <span class="math notranslate nohighlight">\(L_{ux} = 1m\)</span>, <span class="math notranslate nohighlight">\(L_{vx} = 0.75m\)</span>, and <span class="math notranslate nohighlight">\(L_{wx} = 0.5m\)</span> and and Gaussian function for eddy shape</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<div class="align-center figure" id="id3">
<span id="figtinf3v"></span><img alt="../../../../../_images/vTinF3.png" src="../../../../../_images/vTinF3.png" />
<p class="caption"><span class="caption-number">Fig. 4.2.4 </span><span class="caption-text">Synthetic turbulence using the synthetic eddy method with <span class="math notranslate nohighlight">\(U = 10m/s\)</span>, <span class="math notranslate nohighlight">\(L_{ux} = 1m\)</span>, <span class="math notranslate nohighlight">\(L_{vx} = 0.75m\)</span>, and <span class="math notranslate nohighlight">\(L_{wx} = 0.5m\)</span> and tent function for eddy shape</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<div class="align-center figure" id="id4">
<span id="figtinf4v"></span><img alt="../../../../../_images/vTinF4.png" src="../../../../../_images/vTinF4.png" />
<p class="caption"><span class="caption-number">Fig. 4.2.5 </span><span class="caption-text">Synthetic turbulence using the synthetic eddy method with <span class="math notranslate nohighlight">\(U = 10m/s\)</span>, <span class="math notranslate nohighlight">\(L_{ux} = 1m\)</span>, <span class="math notranslate nohighlight">\(L_{vx} = 0.75m\)</span>, and <span class="math notranslate nohighlight">\(L_{wx} = 0.5m\)</span> and step function for eddy shape</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-158130480-2', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>